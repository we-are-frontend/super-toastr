<!DOCTYPE html>
<html style="width: 100%; height: 100%; margin: 0;">
<head>
    <script src="https://rawgit.com/web-animations/web-animations-js/master/web-animations.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <script type="text/javascript" src="./build/super-toastr.bundle.js"></script>

    <link rel="stylesheet" type="text/css" href="demo.css">
</head>

<body class="container">
    <section id="demo" class="well">
        <h1>SuperToastr</h1>
        <div class="row">
            <div class="col-12 col-lg-6">
                <div class="form-group">
                    <label for="content">Toast Content</label>
                    <textarea id="content" rows="8" name="toast-content" placeholder="Enter simple text or html">
                        <div style="color: darkblue; font-weight: bold; padding-bottom: 5px;">
                            Toast Title
                        </div>
                        <div style="color: darkblue;">
                            One toastr to rule them all
                        </div>
                    </textarea>
                </div>
            </div>
            <div class="col-12 col-lg-6">
                <div class="toast-types" class="form-group">
                    <div><b>Toast Type</b></div>
                    <input type="radio" name="toast-type" value="SUC" checked>  success <br>
                    <input type="radio" name="toast-type" value="ERR"> error <br>
                    <input type="radio" name="toast-type" value="WAR"> warning <br>  
                    <input type="radio" name="toast-type" value="INF"> info <br>  
                </div>
                <div class="toast-positions" class="form-group">
                    <div><b>Position</b></div>
                    <input type="radio" name="toast-position" value="top_right" checked>  Top Right <br>
                    <input type="radio" name="toast-position" value="bottom_right"> Bottom Right <br>
                    <input type="radio" name="toast-position" value="bottom_left"> Bottom Left <br>  
                    <input type="radio" name="toast-position" value="top_left"> Top Left <br>  
                    <!--
                    <input type="radio" name="toast-position" value="top_full_width "> Top Full Width <br> 
                    <input type="radio" name="toast-position" value="bottom_full_width"> Bottom Full Width <br> 
                    -->
                    <input type="radio" name="toast-position" value="top_center"> Top Center <br> 
                    <input type="radio" name="toast-position" value="bottom_center"> Bottom Center <br> 
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col p-1">
                <h3>All toast IDs</h3>
                <div id="all-taost-ids">
                </div>

                <h3>Add toast</h3>
                <button class="btn" onClick="addToast()">
                    add toast
                </button>
                <br />
                <br />
                <h3>Remove toast by ID</h3>
                <input type="text" name="to-remove-toast-id" />
                <button class="btn" onClick="removeToastById()">
                    remove toast by ID
                </button>
            </div>
        </div>

        <div class="row">
            <div class="col p-1" style="border: 1px solid #d1d1d1">
                <pre id="json-config">
                </pre>
            </div>
        </div>
    </section>

    <div id="toasts-container" style="z-index: 999999; pointer-events: none; display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100%;">
    </div>
</body>

<script>
    
    var instanceA = SuperToastrLib.createToaster('instanceA');

    function getBackgroundForType(type) {
        if (type === 'WAR') {
            return 'yellow';
        }
        if (type === 'ERR') {
            return '#F44336';
        }
        if (type === 'SUC') {
            return '#26a69a';
        }
        if (type === 'INF') {
            return '#dbdbdb';
        }
        return '';
    }

    function prettyDate2(date){
        var localeSpecificTime = date.toLocaleTimeString();
        return localeSpecificTime;
    }

    function addToast() {
        const toastContent = document.querySelector('textarea[name="toast-content"]').value;
        const toastType = document.querySelector('input[name="toast-type"]:checked').value;
        const toastPosition = document.querySelector('input[name="toast-position"]:checked').value;
        var toastConfig = {
            type: toastType,
            position: toastPosition,
            background: getBackgroundForType(toastType),
            content: toastContent,
            closeBtn: true
        };
        const addedToastID = instanceA.addToast(toastConfig);
        console.log(instanceA.getAllToastIds());

        document.getElementById('all-taost-ids').innerHTML = '[ ' +  instanceA.getAllToastIds() + ' ]';

        document.getElementById('json-config').innerHTML = JSON.stringify(toastConfig, undefined, 4);
        
        console.log('addedToastID', addedToastID);
    }

    function removeToastById() {
        const toRemoveToastId = document.querySelector('input[name="to-remove-toast-id"]').value;
        instanceA.removeToastById(toRemoveToastId);
        printIdsToDom(instanceA.getAllToastIds());
    }
</script>

</html>
